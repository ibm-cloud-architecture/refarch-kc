(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{BxDY:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return o})),a.d(t,"default",(function(){return b}));var i=a("wx14"),n=a("zLVn"),r=(a("q1tI"),a("7ljp")),c=a("013z"),o=(a("qKvR"),{}),s={_frontmatter:o},l=c.a;function b(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(r.b)(l,Object(i.a)({},s,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h2",null,"Architecture"),Object(r.b)("h3",null,"System Context"),Object(r.b)("p",null,"There are six main microservices implemented in this reference architecture. They each serve to fulfil the various parts of the Reefer Shipment Solution as outlined further below. When dealing with a microservices architecture, it is common to start with a high-level overview of the system and the entities that compose it, before drilling down into a more detailed view. The system context view for the solution can be seen in the diagram below:"),Object(r.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"651px"}},"\n      ",Object(r.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"62.5%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACM0lEQVQ4y31TS2gUQRCdix68eRXJwbMnEfEinkTi1ZN4UXIUoqIsGBTBD4qQgyBCIJLgB1kRIXETYsQYIu6u2XzUkBg/aIRAFNGYnZ1PV3X3s3tmencTow1FTU9XvXpd9drDmqW1TrxUGt3vCJ1vGV1zjEtThNI3Ts5UFrPe8v4FKFiiJc9oeaBxYFjD61E4W6HkjNV/AO2hM8vKAZJUOD9B6KgwrkzGOPaSUVhIAWUSk8ZTU7417+8aDVD3vVL1s3/p3tm6DNuLjFNlwvESo/MNwd3GJiSMLduwll0VaIa5OUs4PMroGCccGWNcm47hbckDO/s1tj0EdvcJ+JFIG9/E+MvPAN99kW0lgiiGjnzsHwix4Taw67HGRuN3PDKAJ8uMy9OE3LhlGCMIQ1T9GpQIMboYY9+QxKHnEq1PJA4+jfH5hw8Wsakoce8D4YzJuziV9rprVtgeNvrlFif0GBcmTMVuhdZhYHuf6c8theISZ4PBmrzUe/bA6sqCkEonqBKtAWEQYGQhwN2PEr1zIV4vBXWN2jxr1JRnzUsn5ypkJiPosAomWjVBFQcI47iJUcMchudUP/+L0TZGaC8KHH3m40SJ8FvoupAtG7bbuIb+TzW0veDkJeVemdZMijqo51Rf+MrwejX2DpmpF4BNd8x0VxpPzcqIVDr/XCky/QT2DAKb7wNb85wC2h46hu+XGafLwkyNEl2eqwgsR3L1+878yCLjqlFGzzzh+gzhxoyox/wBlmLBAB6oKVEAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(r.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"System Context",title:"System Context",src:"/refarch-kc/static/82e12c12ae7673b1258aa7427d267cbe/62f29/system-context.png",srcSet:["/refarch-kc/static/82e12c12ae7673b1258aa7427d267cbe/7fc1e/system-context.png 288w","/refarch-kc/static/82e12c12ae7673b1258aa7427d267cbe/a5df1/system-context.png 576w","/refarch-kc/static/82e12c12ae7673b1258aa7427d267cbe/62f29/system-context.png 651w"],sizes:"(max-width: 651px) 100vw, 651px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(r.b)("h3",null,"Components view"),Object(r.b)("p",null,"Deploying the different components using event-driven and microservice patterns, we organize them in the following figure ",Object(r.b)("em",{parentName:"p"},"(where the event backbone ensures pub/sub implementation and supports the event sourcing pattern)"),":"),Object(r.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(r.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"50.34722222222222%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB8ElEQVQoz32S22/SYBjG+X/9D7w08dbDhTdOF427cDETTcacuqDi0OgGC04otKxAzxxaWkc59fCzlAGbFz7Jl/R72+/X5/3eJ+Mqn1EanxBEBbnVwXYcVE0jBjz1C5pwiNDoIIoXDGwH3bCYTKYsFMcx/yqjlJ5TLe4kh3SazTaa2adaF/HGEcrvLKf5J5zX2uk73/e5HPkEQbAGblZaIRNFG/px3eXNiZ26i8IwrQ0uQ/bLNoIx4X9agTOLTac34uOZxuMPdR7kqkhKn5HjEibko186d3bLvCyI3N4R2D+xUsBsHjKdzVO3YRSnaw3cPlK5+0rC7nYxVI3xeMZ0unAYoZoO5bpOy7QpCg5K30+BnuehKy1arRb+eLy5w0Xz0eICopDvFYVsQcIdDqk1Te7vCZQEnXg2wu5bOF2NatPgbVFm76vMwY82tm1zWjfYOqijWQMy60nFUVqQlC6u69IfOFRlK3E44EKzE7CBbnaR1R5nokFFMime68l3Q8ROj1yhgmH1li1vprRUlExq9aNZELJ7rPAwJ2E4m9Yausd2XuWn5FwZmqfnrjlcQq9tU/nTgBf5GveyJWTLS2tBMq3X35o8fV/hUa7Gu5LFPFzGZQ28mamb2frjT3A8nzBcZSy+eo55lri8tVVjPFtm8y/QjOu62c1Q0AAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(r.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"High level component view",title:"High level component view",src:"/refarch-kc/static/b7e2671dfae915fae2b49a9a6a843b94/3cbba/kc-hl-comp-view.png",srcSet:["/refarch-kc/static/b7e2671dfae915fae2b49a9a6a843b94/7fc1e/kc-hl-comp-view.png 288w","/refarch-kc/static/b7e2671dfae915fae2b49a9a6a843b94/a5df1/kc-hl-comp-view.png 576w","/refarch-kc/static/b7e2671dfae915fae2b49a9a6a843b94/3cbba/kc-hl-comp-view.png 1152w","/refarch-kc/static/b7e2671dfae915fae2b49a9a6a843b94/887b2/kc-hl-comp-view.png 1508w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Top left represents the ",Object(r.b)("a",{parentName:"li",href:"https://ibm-cloud-architecture.github.io/refarch-kc/microservices/user-interface/"},"user interface"),", implemented to support driving the Reefer Container Shipment solution. It includes a set of widgets to visualise the ships movements, the container tracking / monitoring and the event dashboards."),Object(r.b)("li",{parentName:"ul"},"The event backbone is used to define a set of topics used in the solution and as event sourcing for microservice to microservice data eventual consistency support."),Object(r.b)("li",{parentName:"ul"},"Each service supports the top-level process with a context boundary defining the microservice scope."),Object(r.b)("li",{parentName:"ul"},"Streaming analytics is used to process aggregates and analytics on containers and ship movement data ingested in real-time.")),Object(r.b)("p",null,"As we develop through multiple iterations, the current scope of the Minimum Viable Product is only addressing the following components:"),Object(r.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(r.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"51.041666666666664%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAACBklEQVQoz3WS2W7TUBCG8wxI8BY8EBc8Am+AkBCX3CEhyg0XpYJKXagKjSqRNnRTqUBt6JLNTlLHxE68xE4aJ15O/OG4LWkrGGmkc2b5z5z/n0z79D3S4RLHZ3WkqoRptimWigjAllaR9mcols8pl8p0DJPzpspg4DGxOI5Tv2kZvbSGdLSO3LCQlD4NI0ZpmQyDmE5jn18HqxQqTpJzEFHEWAiEELcALz2NkJliO8jlL3zeWGA00BgFSXMSjUY6K/l1KvIBYTBk6Ef8066AE0DBvhSymX+Ht3mfXu4BkTpH3xX4ySDh6WO0xQx+/h7PZ78xu2Wk/ZMHLwYDPM8jCAXXP08n/LCj8SZbZ2g0MVQZf+QlxT5+Mo1nVXDVLYbmD2qag2ZP+BPYjovSqCPLMq7bI4xESkfmJqnbhyrz+Rq23aUs67xcOCNf0AmCMZbdo91qcir9Zi5XZXlbYnlHTmotClWdV59OOCo1JxPGjMeX/7e6Drph0e/3cHs9Wh07AepSVUy+/mzS6Ri02hayalHXfTaOPRqdCM1w+F6ooLbaU1Huyn9tIlHm467Ci8Uiinm1LhMOtWVy2acoJzO3hMlMJb+7BnHaGkZjlvaqvF07otrqpnUJXfSPn+DvPWR35RGvsw3cQTAV5f9rcHkMwihZlyChZvw3HV3lNs4Cns3X6F746f0PGkXm7W2dS1gAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(r.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"kc mvp components",title:"kc mvp components",src:"/refarch-kc/static/eca5743452aa89cdc466b8b87500b91d/3cbba/kc-mvp-components.png",srcSet:["/refarch-kc/static/eca5743452aa89cdc466b8b87500b91d/7fc1e/kc-mvp-components.png 288w","/refarch-kc/static/eca5743452aa89cdc466b8b87500b91d/a5df1/kc-mvp-components.png 576w","/refarch-kc/static/eca5743452aa89cdc466b8b87500b91d/3cbba/kc-mvp-components.png 1152w","/refarch-kc/static/eca5743452aa89cdc466b8b87500b91d/b11f7/kc-mvp-components.png 1496w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(r.b)("p",null,"Which can also be represented in a deployment view as the figure below:"),Object(r.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(r.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"39.93055555555555%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABsUlEQVQoz02SS24TQRCG5wCcJQs2LLgDLFhwDA7ADmGW2bLlsUWACBLhaQLBSFgRihWwkHGcWNhBGY/n3fPo6f6oaTOCklpV/1/V9Vf1jFc0sCrAz6G2EEh8lkksfFVram3kaHLBv4WPSv5yDamW2hRyjcPt8QgHfHp7m8HHu6A+cLC/zavdO1JxSmvGaOfL5TPe7PaYfXsgqOUsy/F9njy9RTjfcTV1Y/DGhz0WL7eIv1xlOrrJWf8y6/5FSv89lZGrlSJQhh/711g9v4D6fEluxizigKP+FeJ3W6RHN0RZRJMUbx4nFLJmkhZM/ZAwUWSFppK1dNOgipJVFLKUujKLKcucNM05jyK36vdZwvXtETuDEygyWdmthRQpkjBBqQpjrTQzWPGZXI6jhEYeWJ6UshbxVlR4tHXiw0nIvRdDKhnAs9ZIQ8tsPuf13h5hGNHZcJrSe3TipnXCdcWvxw9JJmOHVVm5t2xt08dsJgzWa74ejphMj8lVQdNYl/TjioOfgaxd0Yiolq8YHk9I/HMK+Q0Wq8w1a3OdeZvu1k3ZmcP2H+44+x9nTYtd5HyX/wMt81gBRY6gcwAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(r.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"mvp deploy",title:"mvp deploy",src:"/refarch-kc/static/86b1f55af42546fb18e2a559b8df5461/3cbba/mvp-deploy.png",srcSet:["/refarch-kc/static/86b1f55af42546fb18e2a559b8df5461/7fc1e/mvp-deploy.png 288w","/refarch-kc/static/86b1f55af42546fb18e2a559b8df5461/a5df1/mvp-deploy.png 576w","/refarch-kc/static/86b1f55af42546fb18e2a559b8df5461/3cbba/mvp-deploy.png 1152w","/refarch-kc/static/86b1f55af42546fb18e2a559b8df5461/ca8b9/mvp-deploy.png 1320w"],sizes:"(max-width: 1152px) 100vw, 1152px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(r.b)("h3",null,"Summary of microservice scopes for shipment handling:"),Object(r.b)("p",null,"We are using a set of event-driven design patterns to develop the overall solution. One of them is the ",Object(r.b)("strong",{parentName:"p"},Object(r.b)("a",{parentName:"strong",href:"https://www.ibm.com/cloud/architecture/architectures/eventDrivenArchitecture/patterns#decomposebysubdomain"},"sub domain decomposition")),". From the analysis output, we have the aggregates, actors and data that are helping us to extract a set of subdomains."),Object(r.b)("p",null,Object(r.b)("em",{parentName:"p"},Object(r.b)("strong",{parentName:"em"},"NOTE:"))," The details below are the initial outputs from the original ",Object(r.b)("a",{parentName:"p",href:"https://ibm-cloud-architecture.github.io/refarch-kc/implementation/event-storming-analysis/"},"event storming analysis")," and ",Object(r.b)("a",{parentName:"p",href:"https://ibm-cloud-architecture.github.io/refarch-kc/implementation/domain-driven-design/"},"domain-driven design")," activities. However, the application model has evolved to keep up with the use case and the details for the currently implemented use case can be found on the ",Object(r.b)("a",{parentName:"p",href:"https://ibm-cloud-architecture.github.io/refarch-kc/microservices/topic-details/"},"Topics")," and ",Object(r.b)("a",{parentName:"p",href:"https://ibm-cloud-architecture.github.io/refarch-kc/microservices/event-details/"},"Events")," pages."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Fleet Service"),": responsible for managing the fleet of ships (container carriers), per major ocean.",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Information model:"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Fleet has multiple ships."),Object(r.b)("li",{parentName:"ul"},"Ship has unique identifier (we will use its name), a container capacity (represented as a matrix to make it simple), current position, status, voyage identifier for the voyage it is doing."))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Events:")," Ship commission, ship position, load container event, unload container event, start itinerary X, arrive at port, docked,…"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Operations:")," CRUD operations for Fleet and Ship management and the relationship between the two entities."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Implementation:")," ",Object(r.b)("a",{parentName:"li",href:"https://github.com/ibm-cloud-architecture/refarch-kc-ms/tree/master/fleet-ms"},"github.com/ibm-cloud-architecture/refarch-kc-ms")))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Voyages Service"),": define a set of voyage schedules supported by the shipping company.",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Information model:")," voyageID, shipID, src_Port, planned_departure_date, dest_port, planned_arrival_dates, free_space_this_leg"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Events:")," add itinerary route, OrderAssigned"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Operations:")," CRUD on itinerary routes, query on capacity availability, assign slot to order, free slot for order."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Implementation:")," ",Object(r.b)("a",{parentName:"li",href:"https://github.com/ibm-cloud-architecture/refarch-kc-ms/tree/master/voyages-ms"},"github.com/ibm-cloud-architecture/refarch-kc-ms")))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Order Service"),": manage the shipment order.",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Information model:")," Booking id , customer, pickup location, pickup after date, deliver location, expected deliver date, order status, assigned container"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Events:")," order placed, order assigned to voyage (sets VoyageID, ship ID), container assigned to order (sets container ID), Landorder, Transport associated with pickup container, Order status event, Order billing/accounting event"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Operations:")," CRUD on order, update order status"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Implementation:")," ",Object(r.b)("a",{parentName:"li",href:"https://github.com/ibm-cloud-architecture/refarch-kc-order-ms"},"github.com/ibm-cloud-architecture/refarch-kc-order-ms")))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Container Service"),":",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Information model:")," Container Id, Container temperature, container position, container condition ( maintenance goods), current associated order"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Events:")," order created, order assigned, container added, container anomaly, container maintenance, …"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Operations:")," CRUD on container"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Implementation:")," ",Object(r.b)("a",{parentName:"li",href:"https://github.com/ibm-cloud-architecture/refarch-kc-container-ms"},"github.com/ibm-cloud-architecture/refarch-kc-container-ms"))))))}b.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-business-scenario-architecture-overview-index-mdx-04f9fefce576de12796b.js.map