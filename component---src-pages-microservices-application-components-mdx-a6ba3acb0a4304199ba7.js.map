{"version":3,"sources":["webpack:///./src/pages/microservices/application-components.mdx"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-microservices-application-components-mdx-a6ba3acb0a4304199ba7.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/refarch-kc/refarch-kc/docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h2>{`Environment prerequisites`}</h2>\n    <h3>{`Kafka Topic Creation`}</h3>\n    <p>{`You can create the topics using the Event Streams console:`}</p>\n    <img {...{\n      \"src\": \"images/es-icp-topics.png\",\n      \"alt\": null\n    }}></img>\n    <p>{`or if you have manually deployed Event Streams or Kafka, you can use commands similar to the snippet below:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`# get the name of the Kafka pod\n$ export NAMESPACE=<target k8s namespace / ocp project>\n$ export KPOF=$(kubectl get pods  -n \\${NAMESPACE} | grep kafka | awk '{print $1;}')\n$ cat \\${KPOF}\nrolling-streams-ibm-es-kafka-sts-0\nrolling-streams-ibm-es-kafka-sts-1\nrolling-streams-ibm-es-kafka-sts-2\n# Then get the name of the zookeeper service:\n$ export ZOOKSVC=$(kubectl get svc -n \\${NAMESPACE} | grep zoo | awk '{print $1;}' | head -1)\nrolling-streams-ibm-es-zookeeper-fixed-ip-svc-0\n# Then remote exec a shell on one of this broker to configure the topic - for example the \"orders\" topic\n$ kubectl exec -n \\${NAMESPACE} -ti \\${KPOF} -- bash -c \"/opt/kafka/bin/kafka-topics.sh --create  --zookeeper \\${ZOOKSVC}:2181 --replication-factor 1 --partitions 1 --topic orders\"\n`}</code></pre>\n    <p>{`The topics that need to be created are:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`bluewaterContainer`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`bluewaterShip`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`bluewaterProblem`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`orders`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`orderCommands`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`rejected-orders`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`allocated-orders`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`errors`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`containers`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`containerMetrics`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`reeferTelemetries`}</inlineCode></li>\n    </ul>\n    <p>{`The command `}<inlineCode parentName=\"p\">{`scripts/createTopicsOnK8S.sh`}</inlineCode>{` creates those topics automatically.`}</p>\n    <h2>{`Docker registries`}</h2>\n    <p>{`You will need a Docker image registry to push and pull your images to and from.  There are multiple options depending on your use cases and we are only documenting a subset of potential solutions, including but not limited to IBM Cloud Container Registry, Docker Hub, Quay, etc.`}</p>\n    <h3>{`IBM Cloud Container Registry`}</h3>\n    <p>{`Install IBM Cloud Container Registry CLI plug-in if needed:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`ibmcloud plugin install container-registry -r Bluemix\n`}</code></pre>\n    <h3>{`Define a private image repository`}</h3>\n    <p>{`Use the `}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/containers-kubernetes/catalog/registry\"\n      }}>{`IBM Cloud Container Registry`}</a>{` to push your images and then deploy them to any Kubernetes cluster with access to the public internet.  When deploying enterprise applications, it is strongly recommended to use private registry to protect your images from being used and changed by unauthorized users. Private registries must be set up by the cluster administrator to ensure that the credentials to access the private registry are available to the cluster users.`}</p>\n    <p>{`Create a namespace inside your Container Registry for use here:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`ibmcloud cr namespace-add ibmcaseeda\n`}</code></pre>\n    <p>{`We will use this namespace when tagging the docker images for our microservices. Here is an example of tagging:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker tag ibmcase/kc-ui us.icr.io/ibmcaseeda/kc-ui:latest\n`}</code></pre>\n    <p>{`To see the images in your private registry you can use the user interface at `}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/containers-kubernetes/registry/main/private\"\n      }}>{`https://cloud.ibm.com/containers-kubernetes/registry/main/private`}</a>{` or the command:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`ibmcloud cr image-list\n`}</code></pre>\n    <h4>{`Private Registry Token`}</h4>\n    <p>{`Each Helm Chart specifies the name of the Docker image to load the containers & pods. To enable access from Kubernetes Nodes to your private registry, an image pull secret is required and will be stored in a Kubernetes secret.  If you are using public Docker Hub image repositories, an image pull secret is not required.`}</p>\n    <p><em parentName=\"p\">{`Using secret is also mandatory when registry and clusters are not in the same region.`}</em></p>\n    <ul>\n      <li parentName=\"ul\">{`Verify current secrets for a given namespace:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl describe secrets -n <target namespace>\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Get a security token: `}<em parentName=\"li\">{`(these can be `}<inlineCode parentName=\"em\">{`permanent`}</inlineCode>{` or `}<inlineCode parentName=\"em\">{`renewable`}</inlineCode>{`)`}</em></li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`ibmcloud cr token-add --description \"private registry secret for <target namespace>\" --non-expiring -q\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`To list the available tokens:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`ibmcloud cr tokens\n`}</code></pre>\n    <p>{`The result:`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`TOKEN ID     READONLY   EXPIRY   DESCRIPTION\n2b5ff00e-a..  true       0       token for somebody\n3dbf72eb-6..  true       0       private registry secret for browncompute`}</p>\n    </blockquote>\n    <ul>\n      <li parentName=\"ul\">{`Get the token for a given token identifier:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`ibmcloud cr token-get cce5a800-...\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Define the secret to store the Event stream API key token information:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl --namespace <target namespace> create secret docker-registry\n<target namespace>-registry-secret  --docker-server=<registry_url> --docker-username=token --docker-password=<token_value> --docker-email=<docker_email>\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Verify the secret`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl get secrets -n <target namespace>\n`}</code></pre>\n    <p>{`You will see something like below.`}</p>\n    <blockquote>\n      <table parentName=\"blockquote\">\n        <thead parentName=\"table\">\n          <tr parentName=\"thead\">\n            <th parentName=\"tr\" {...{\n              \"align\": null\n            }}>{`NAME`}</th>\n            <th parentName=\"tr\" {...{\n              \"align\": null\n            }}>{`TYPE`}</th>\n            <th parentName=\"tr\" {...{\n              \"align\": null\n            }}>{`DATA`}</th>\n            <th parentName=\"tr\" {...{\n              \"align\": null\n            }}>{`AGE`}</th>\n          </tr>\n        </thead>\n        <tbody parentName=\"table\">\n          <tr parentName=\"tbody\">\n            <td parentName=\"tr\" {...{\n              \"align\": null\n            }}>{`browncompute-registry-secret`}</td>\n            <td parentName=\"tr\" {...{\n              \"align\": null\n            }}>{`kubernetes.io/dockerconfigjson`}</td>\n            <td parentName=\"tr\" {...{\n              \"align\": null\n            }}>{`1`}</td>\n            <td parentName=\"tr\" {...{\n              \"align\": null\n            }}>{`2m`}</td>\n          </tr>\n          <tr parentName=\"tbody\">\n            <td parentName=\"tr\" {...{\n              \"align\": null\n            }}>{`default-token-ggwl2`}</td>\n            <td parentName=\"tr\" {...{\n              \"align\": null\n            }}>{`kubernetes.io/service-account-token`}</td>\n            <td parentName=\"tr\" {...{\n              \"align\": null\n            }}>{`3`}</td>\n            <td parentName=\"tr\" {...{\n              \"align\": null\n            }}>{`41m`}</td>\n          </tr>\n          <tr parentName=\"tbody\">\n            <td parentName=\"tr\" {...{\n              \"align\": null\n            }}>{`eventstreams-apikey`}</td>\n            <td parentName=\"tr\" {...{\n              \"align\": null\n            }}>{`Opaque`}</td>\n            <td parentName=\"tr\" {...{\n              \"align\": null\n            }}>{`1`}</td>\n            <td parentName=\"tr\" {...{\n              \"align\": null\n            }}>{`24m`}</td>\n          </tr>\n        </tbody>\n      </table>\n    </blockquote>\n    <h2>{`Basic Kubernetes`}</h2>\n    <h3>{`IBM Cloud Kubernetes Service`}</h3>\n    <p>{`To create the cluster follow `}<a parentName=\"p\" {...{\n        \"href\": \"https://console.bluemix.net/docs/containers/cs_tutorials.html#cs_cluster_tutorial\"\n      }}>{`this tutorial`}</a>{`.`}</p>\n    <h3>{`OpenShift Container Platform 3.11`}</h3>\n    <p>{`This needs to be done once per unique deployment of the entire application.`}</p>\n    <ol>\n      <li parentName=\"ol\">{`If desired, create a non-default Service Account for usage of deploying and running the K Container reference implementation.  This will become more important in future iterations, so it’s best to start small:`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Command: `}<inlineCode parentName=\"li\">{`oc create serviceaccount -n <target-namespace> kcontainer-runtime`}</inlineCode></li>\n          <li parentName=\"ul\">{`Example: `}<inlineCode parentName=\"li\">{`oc create serviceaccount -n eda-refarch kcontainer-runtime`}</inlineCode></li>\n        </ul>\n      </li>\n      <li parentName=\"ol\">{`The target Service Account needs to be allowed to run containers as `}<inlineCode parentName=\"li\">{`anyuid`}</inlineCode>{` for the time being:`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Command: `}<inlineCode parentName=\"li\">{`oc adm policy add-scc-to-user anyuid -z <service-account-name> -n <target-namespace>`}</inlineCode></li>\n          <li parentName=\"ul\">{`Example: `}<inlineCode parentName=\"li\">{`oc adm policy add-scc-to-user anyuid -z kcontainer-runtime -n eda-refarch`}</inlineCode></li>\n          <li parentName=\"ul\">{`NOTE: This requires `}<inlineCode parentName=\"li\">{`cluster-admin`}</inlineCode>{` level privileges.`}</li>\n        </ul>\n      </li>\n    </ol>\n    <h2>{`Deploy application microservices`}</h2>\n    <h3>{`Using the master repository`}</h3>\n    <p>{`You can download the necessary application microservice repsoitories using scripts provided in the master repository:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`git clone https://github.com/ibm-cloud-architecture/refarch-kc.git\ncd refarch-kc\n./scripts/clone.sh\n`}</code></pre>\n    <h3>{`Deploy Order Command microservice`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Go to the repo`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`cd refarch-kc-order-ms/order-command-ms\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Build the image`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker build -t order-command-ms:latest -f Dockerfile.multistage .\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Tag the image`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker tag order-command-ms <private-registry>/<image-namespace>/order-command-ms:latest\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Push the image`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker login <private-registry>\ndocker push <private-registry>/<image-namespace>/order-command-ms:latest\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Generate application YAMLs via `}<inlineCode parentName=\"p\">{`helm template`}</inlineCode>{` with the following parameters:`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set image.repository=<private-registry>/<image-namespace>/<image-repository>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set image.pullSecret=<private-registry-pullsecret>`}</inlineCode>{` (only required if pulling from an external private registry)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set kafka.brokersConfigMap=<kafka brokers ConfigMap name>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.enabled=(true/false)`}</inlineCode>{` (`}<inlineCode parentName=\"li\">{`true`}</inlineCode>{` when connecting to Event Streams of any kind, `}<inlineCode parentName=\"li\">{`false`}</inlineCode>{` when connecting to Kafka directly)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.apikeyConfigMap=<kafka api key Secret name>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.truststoreRequired=(true/false)`}</inlineCode>{` (`}<inlineCode parentName=\"li\">{`true`}</inlineCode>{` when connecting to Event Streams via ICP4I)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.truststoreSecret=<eventstreams jks file secret name>`}</inlineCode>{` (only used when connecting to Event Streams via ICP4I)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.truststorePassword=<eventstreams jks password>`}</inlineCode>{` (only used when connecting to Event Streams via ICP4I)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set serviceAccountName=<service-account-name>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--namespace <target-namespace>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--output-dir <local-template-directory>`}</inlineCode>{`\nExample using Event Streams via ICP4I:`}\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`helm template --set image.repository=rhos-quay.internal-network.local/browncompute/order-command-ms --set kafka.brokersConfigMap=es-kafka-brokers --set eventstreams.enabled=true --set eventstreams.apikeyConfigMap=es-eventstreams-apikey --set serviceAccountName=kcontainer-runtime --set eventstreams.truststoreRequired=true --set eventstreams.truststoreSecret=es-truststore-jks --set eventstreams.truststorePassword=password --output-dir templates --namespace eda-refarch chart/ordercommandms\n`}</code></pre>\n            {`Example using Event Streams hosted on IBM Cloud:`}\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`helm template --set image.repository=rhos-quay.internal-network.local/browncompute/order-command-ms --set kafka.brokersConfigMap=kafka-brokers --set eventstreams.enabled=true --set eventstreams.apikeyConfigMap=eventstreams-apikey --set serviceAccountName=kcontainer-runtime --output-dir templates --namespace eda-refarch chart/ordercommandms\n`}</code></pre>\n          </li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Deploy application using `}<inlineCode parentName=\"p\">{`kubectl/oc apply`}</inlineCode>{`:`}</p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`(kubectl/oc) apply -f templates/ordercommandms/templates\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Verify default service is running correctly:`}</li>\n    </ul>\n    <p>{`Without any previously tests done, the call below should return an empty array: `}<inlineCode parentName=\"p\">{`[]`}</inlineCode></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`curl http://<cluster endpoints>:31200/orders\n`}</code></pre>\n    <h3>{`Deploy Order Query microservice`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Go to the repo`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`cd refarch-kc-order-ms/order-query-ms\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Build the image`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker build -t order-query-ms:latest -f Dockerfile.multistage .\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Tag the image`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker tag order-query-ms <private-registry>/<image-namespace>/order-query-ms:latest\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Push the image`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker login <private-registry>\ndocker push <private-registry>/<image-namespace>/order-query-ms:latest\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Generate application YAMLs via `}<inlineCode parentName=\"p\">{`helm template`}</inlineCode>{` with the following parameters:`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set image.repository=<private-registry>/<image-namespace>/<image-repository>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set image.pullSecret=<private-registry-pullsecret>`}</inlineCode>{` (only required if pulling from an external private registry)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set kafka.brokersConfigMap=<kafka brokers ConfigMap name>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.enabled=(true/false)`}</inlineCode>{` (`}<inlineCode parentName=\"li\">{`true`}</inlineCode>{` when connecting to Event Streams of any kind, `}<inlineCode parentName=\"li\">{`false`}</inlineCode>{` when connecting to Kafka directly)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.apikeyConfigMap=<kafka api key Secret name>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.truststoreRequired=(true/false)`}</inlineCode>{` (`}<inlineCode parentName=\"li\">{`true`}</inlineCode>{` when connecting to Event Streams via ICP4I)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.truststoreSecret=<eventstreams jks file secret name>`}</inlineCode>{` (only used when connecting to Event Streams via ICP4I)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.truststorePassword=<eventstreams jks password>`}</inlineCode>{` (only used when connecting to Event Streams via ICP4I)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set serviceAccountName=<service-account-name>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--namespace <target-namespace>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--output-dir <local-template-directory>`}</inlineCode>{`\nExample using Event Streams via ICP4I:`}\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`helm template --set image.repository=rhos-quay.internal-network.local/browncompute/order-query-ms --set kafka.brokersConfigMap=es-kafka-brokers --set eventstreams.enabled=true --set eventstreams.apikeyConfigMap=es-eventstreams-apikey --set serviceAccountName=kcontainer-runtime --set eventstreams.truststoreRequired=true --set eventstreams.truststoreSecret=es-truststore-jks --set eventstreams.truststorePassword=password --output-dir templates --namespace eda-refarch chart/orderqueryms\n`}</code></pre>\n            {`Example using Event Streams hosted on IBM Cloud:`}\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`helm template --set image.repository=rhos-quay.internal-network.local/browncompute/order-query-ms --set kafka.brokersConfigMap=kafka-brokers --set eventstreams.enabled=true --set eventstreams.apikeyConfigMap=eventstreams-apikey --set serviceAccountName=kcontainer-runtime --output-dir templates --namespace eda-refarch chart/orderqueryms\n`}</code></pre>\n          </li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Deploy application using `}<inlineCode parentName=\"p\">{`kubectl/oc apply`}</inlineCode>{`:`}</p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`(kubectl/oc) apply -f templates/orderqueryms/templates\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Verify default service is running correctly:`}</li>\n    </ul>\n    <p>{`Without any previously tests done, the call below should return an empty array: `}<inlineCode parentName=\"p\">{`[]`}</inlineCode></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`curl http://<cluster endpoints>:31100/orders\n`}</code></pre>\n    <h3>{`Deploy Container microservice`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Go to the repo`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`cd refarch-kc-container-ms/SpringContainerMS\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Build the image`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker build -t kc-spring-container-ms:latest -f Dockerfile .\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Tag the image`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker tag kc-spring-container-ms <private-registry>/<image-namespace>/kc-spring-container-ms:latest\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Push the image`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker login <private-registry>\ndocker push <private-registry>/<image-namespace>/kc-spring-container-ms:latest\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Generate application YAMLs via `}<inlineCode parentName=\"p\">{`helm template`}</inlineCode>{` with the following parameters:`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set image.repository=<private-registry>/<image-namespace>/<image-repository>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set image.pullSecret=<private-registry-pullsecret>`}</inlineCode>{` (only required if pulling from an external private registry)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set kafka.brokersConfigMap=<kafka brokers ConfigMap name>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.enabled=(true/false)`}</inlineCode>{` (`}<inlineCode parentName=\"li\">{`true`}</inlineCode>{` when connecting to Event Streams of any kind, `}<inlineCode parentName=\"li\">{`false`}</inlineCode>{` when connecting to Kafka directly)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.apikeyConfigMap=<kafka api key Secret name>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.caPemFileRequired=(true/false)`}</inlineCode>{` (`}<inlineCode parentName=\"li\">{`true`}</inlineCode>{` when connecting to Event Streams via ICP4I)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.caPemSecretName=<eventstreams ca pem file secret name>`}</inlineCode>{` (only used when connecting to Event Streams via ICP4I)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set postgresql.capemRequired=(true/false)`}</inlineCode>{` (`}<inlineCode parentName=\"li\">{`true`}</inlineCode>{` when connecting to Postgresql Services requiring SSL and CA PEM-secured communication)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set postgresql.capemSecret=<postgresql CA pem certificate Secret name>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set postgresql.urlSecret=<postgresql url Secret name>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set postgresql.userSecret=<postgresql user Secret name>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set postgresql.passwordSecret=<postgresql password Secret name>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set serviceAccountName=<service-account-name>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--namespace <target-namespace>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--output-dir <local-template-directory>`}</inlineCode>{`\nExample using Event Streams via ICP4I:`}\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`helm template --set image.repository=rhos-quay.internal-network.local/browncompute/kc-spring-container-ms --set kafka.brokersConfigMap=es-kafka-brokers --set eventstreams.enabled=true --set eventstreams.apikeyConfigMap=es-eventstreams-apikey --set eventstreams.truststoreRequired=true --set eventstreams.truststoreSecret=es-truststore-jks --set eventstreams.truststorePassword=password --set postgresql.capemRequired=true --set postgresql.capemSecret=postgresql-ca-pem --set postgresql.urlSecret=postgresql-url --set postgresql.userSecret=postgresql-user --set postgresql.passwordSecret=postgresql-pwd --set serviceAccountName=kcontainer-runtime --output-dir templates --namespace eda-refarch chart/springcontainerms\n`}</code></pre>\n            {`Example using Event Streams hosted on IBM Cloud:`}</li>\n        </ul>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`helm template --set image.repository=rhos-quay.internal-network.local/browncompute/kc-spring-container-ms --set kafka.brokersConfigMap=es-kafka-brokers --set eventstreams.enabled=true --set eventstreams.apikeyConfigMap=es-eventstreams-apikey --set postgresql.capemRequired=true --set postgresql.capemSecret=postgresql-ca-pem --set postgresql.urlSecret=postgresql-url --set postgresql.userSecret=postgresql-user --set postgresql.passwordSecret=postgresql-pwd --set serviceAccountName=kcontainer-runtime --output-dir templates --namespace eda-refarch chart/springcontainerms\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Deploy application using `}<inlineCode parentName=\"p\">{`kubectl/oc apply`}</inlineCode>{`:`}</p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`(kubectl/oc) apply -f templates/springcontainerms/templates\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Verify default service is running correctly:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`curl http://cluster-endpoints:31900/containers\n`}</code></pre>\n    <h3>{`Deploy Voyages microservice`}</h3>\n    <p>{`The `}<em parentName=\"p\">{`Voyage microservice`}</em>{` is a simple nodejs app to mockup schedule of vessels between two harbors. It is here to illustrate Kafka integration with nodejs app.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Go to the repo`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`cd refarch-kc-ms/voyages-ms\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Build the image`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker build -t kc-voyages-ms:latest -f Dockerfile .\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Tag the image`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker tag kc-voyages-ms <private-registry>/<image-namespace>/kc-voyages-ms:latest\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Push the image`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker login <private-registry>\ndocker push <private-registry>/<image-namespace>/kc-voyages-ms:latest\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Generate application YAMLs via `}<inlineCode parentName=\"p\">{`helm template`}</inlineCode>{`:`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set image.repository=<private-registry>/<image-namespace>/<image-repository>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set image.pullSecret=<private-registry-pullsecret>`}</inlineCode>{` (only required if pulling from an external private registry)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set kafka.brokersConfigMap=<kafka brokers ConfigMap name>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.enabled=(true/false)`}</inlineCode>{` (`}<inlineCode parentName=\"li\">{`true`}</inlineCode>{` when connecting to Event Streams of any kind, `}<inlineCode parentName=\"li\">{`false`}</inlineCode>{` when connecting to Kafka directly)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.apikeyConfigMap=<kafka api key Secret name>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.caPemFileRequired=(true/false)`}</inlineCode>{` (`}<inlineCode parentName=\"li\">{`true`}</inlineCode>{` when connecting to Event Streams via ICP4I)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.caPemSecretName=<eventstreams ca pem file secret name>`}</inlineCode>{` (only used when connecting to Event Streams via ICP4I)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set serviceAccountName=<service-account-name>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--namespace <target-namespace>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--output-dir <local-template-directory>`}</inlineCode>{`\nExample using Event Streams via ICP4I:`}\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`helm template --set image.repository=rhos-quay.internal-network.local/browncompute/kc-voyages-ms --set kafka.brokersConfigMap=es-kafka-brokers --set eventstreams.enabled=true --set eventstreams.apikeyConfigMap=es-eventstreams-apikey --set serviceAccountName=kcontainer-runtime --set eventstreams.caPemFileRequired=true --set eventstreams.caPemSecretName=es-ca-pemfile --output-dir templates --namespace eda-refarch chart/voyagesms\n`}</code></pre>\n            {`Example using Event Streams hosted on IBM Cloud:`}\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`helm template --set image.repository=rhos-quay.internal-network.local/browncompute/kc-voyages-ms --set kafka.brokersConfigMap=kafka-brokers --set eventstreams.enabled=true --set eventstreams.apikeyConfigMap=eventstreams-apikey --set serviceAccountName=kcontainer-runtime --output-dir templates --namespace eda-refarch chart/voyagesms\n`}</code></pre>\n          </li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Deploy application using `}<inlineCode parentName=\"p\">{`kubectl/oc apply`}</inlineCode>{`:`}</p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`(kubectl/oc) apply -f templates/voyagesms/templates\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Verify default service is running correctly:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`curl http://cluster-endpoint:31000/voyage\n`}</code></pre>\n    <h3>{`Deploy the Fleet Simulator microservice`}</h3>\n    <p>{`The `}<em parentName=\"p\">{`Fleet simulator`}</em>{` is to move vessels from one harbors to another, and send container metrics while the containers are on a vessel. It has some predefined simulation to trigger some events.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Go to the repo`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`cd cd refarch-kc-ms/fleet-ms\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Build the image`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker build -t kc-fleet-ms:latest -f Dockerfile.multistage .\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Tag the image`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker tag kc-fleet-ms <private-registry>/<image-namespace>/kc-fleet-ms:latest\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Push the image`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker login <private-registry>\ndocker push <private-registry>/<image-namespace>/kc-fleet-ms:latest\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Generate application YAMLs via `}<inlineCode parentName=\"p\">{`helm template`}</inlineCode>{`:`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set image.repository=<private-registry>/<image-namespace>/<image-repository>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set image.pullSecret=<private-registry-pullsecret>`}</inlineCode>{` (only required if pulling from an external private registry)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set kafka.brokersConfigMap=<kafka brokers ConfigMap name>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.enabled=(true/false)`}</inlineCode>{` (`}<inlineCode parentName=\"li\">{`true`}</inlineCode>{` when connecting to Event Streams of any kind, `}<inlineCode parentName=\"li\">{`false`}</inlineCode>{` when connecting to Kafka directly)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.apikeyConfigMap=<kafka api key Secret name>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.truststoreRequired=(true/false)`}</inlineCode>{` (`}<inlineCode parentName=\"li\">{`true`}</inlineCode>{` when connecting to Event Streams via ICP4I)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.truststoreSecret=<eventstreams jks file secret name>`}</inlineCode>{` (only used when connecting to Event Streams via ICP4I)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.truststorePassword=<eventstreams jks password>`}</inlineCode>{` (only used when connecting to Event Streams via ICP4I)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set serviceAccountName=<service-account-name>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--namespace <target-namespace>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--output-dir <local-template-directory>`}</inlineCode>{`\nExample using Event Streams via ICP4I:`}\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`helm template --set image.repository=rhos-quay.internal-network.local/browncompute/kc-fleet-ms --set kafka.brokersConfigMap=es-kafka-brokers --set eventstreams.enabled=true --set eventstreams.apikeyConfigMap=es-eventstreams-apikey --set serviceAccountName=kcontainer-runtime --set eventstreams.truststoreRequired=true --set eventstreams.truststoreSecret=es-truststore-jks --set eventstreams.truststorePassword=password --output-dir templates --namespace eda-refarch chart/fleetms\n`}</code></pre>\n            {`Example using Event Streams hosted on IBM Cloud:`}\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`helm template --set image.repository=rhos-quay.internal-network.local/browncompute/kc-fleet-ms --set kafka.brokersConfigMap=kafka-brokers --set eventstreams.enabled=true --set eventstreams.apikeyConfigMap=eventstreams-apikey --set serviceAccountName=kcontainer-runtime --output-dir templates --namespace eda-refarch chart/fleetms\n`}</code></pre>\n          </li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Deploy application using `}<inlineCode parentName=\"p\">{`kubectl/oc apply`}</inlineCode>{`:`}</p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`(kubectl/oc) apply -f templates/fleetms/templates\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Verify default service is running correctly:`}</p>\n        <p parentName=\"li\">{`At the beginning the call below should return an empty array: `}<inlineCode parentName=\"p\">{`[]`}</inlineCode></p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`curl http://cluster-endpoint:31300/fleetms/fleets\n`}</code></pre>\n    <h3>{`Deploy User Interface microservice`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Go to the repo`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`cd refarch-kc-ui/\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Build the image`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker build -t kc-ui:latest -f Dockerfile .\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Tag the image`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker tag kc-ui <private-registry>/<image-namespace>/kc-ui:latest\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Push the image`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker login <private-registry>\ndocker push <private-registry>/<image-namespace>/kc-ui:latest\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Generate application YAMLs via `}<inlineCode parentName=\"li\">{`helm template`}</inlineCode>{` with the following parameters:`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set image.repository=<private-registry>/<image-namespace>/<image-repository>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set image.tag=latest`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set image.pullSecret=<private-registry-pullsecret>`}</inlineCode>{` (only required if pulling from an external private registry)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set image.pullPolicy=Always`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.env=ICP`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set eventstreams.brokersConfigMap=<kafka brokers ConfigMap name>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--set serviceAccountName=<service-account-name>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--namespace <target-namespace>`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`--output-dir <local-template-directory>`}</inlineCode></li>\n        </ul>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`# Example parameters\nhelm template --set image.repository=rhos-quay.internal-network.local/browncompute/kc-ui --set image.tag=latest --set image.pullPolicy=Always --set eventstreams.env=ICP --set eventstreams.brokersConfigMap=kafka-brokers --set serviceAccountName=kcontainer-runtime --output-dir templates --namespace eda-refarch chart/kc-ui\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Deploy application using `}<inlineCode parentName=\"li\">{`kubectl/oc apply`}</inlineCode>{`:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`(kubectl/oc) apply -f templates/kc-ui/templates\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Verify the installed app`}</li>\n    </ul>\n    <p>{`Point your web browser to `}<a parentName=\"p\" {...{\n        \"href\": \"#\"\n      }}>{`http://cluster-endpoints:31010`}</a>{` and login with username: `}<a parentName=\"p\" {...{\n        \"href\": \"mailto:eddie@email.com\"\n      }}>{`eddie@email.com`}</a>{` and password Eddie.`}</p>\n    <h2>{`Integration Tests`}</h2>\n    <p>{`Integration tests are provided in the `}<a parentName=\"p\" {...{\n        \"href\": \"itg-tests/\"\n      }}>{`itg-tests`}</a>{` directory and are designed to be run in cluster with the rest of the application components.  However, they are regular Python scripts that can be adapted to be runnable anywhere, given the correct Kafka endpoints and configuration information.  For simplicity, this quick walkthrough will document how you can build and deploy Docker images that will run the integration tests inside the cluster, with the results visible via `}<inlineCode parentName=\"p\">{`kubectl logs`}</inlineCode>{` and the rest of the application’s APIs.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Build the base Docker image`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`# From the root of the 'refarch-kc' repository\ndocker build -f docker/docker-python-tools -t osowski/python-tools .\ndocker push osowski/python-tools\n`}</code></pre>\n    <p>{`The above image is a base Python image with our integration tests, defined in the `}<inlineCode parentName=\"p\">{`itg-tests`}</inlineCode>{` directory.  It is a long-running Flask process that provides a simple web server, so once deployed, it will remain available to “exec” into for additional in-cluster CLI interaction.  However, for simplicity, we have defined a few integration scenarios, using a Kubernetes Deployment and multiple Kubernetes Jobs, that will automate some of the integration test scenarios.`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Update the `}<inlineCode parentName=\"p\">{`itg-tests/kustomization.yaml`}</inlineCode>{` file with the specifics for your `}<inlineCode parentName=\"p\">{`python-tools`}</inlineCode>{` Docker image, changing the `}<inlineCode parentName=\"p\">{`newName`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`newTag`}</inlineCode>{` fields, as appropriate, along with the `}<inlineCode parentName=\"p\">{`namespace`}</inlineCode>{` field.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Then run the following the command to apply the customization and deploy to the platform:`}</p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`# From the root of the 'refarch-kc' repository\nkubectl apply -k itg-tests/\n`}</code></pre>\n    <p><strong parentName=\"p\">{`NOTE:`}</strong>{` `}<inlineCode parentName=\"p\">{`kubectl`}</inlineCode>{` must be at level `}<inlineCode parentName=\"p\">{`1.14`}</inlineCode>{` or higher for the `}<inlineCode parentName=\"p\">{`-k`}</inlineCode>{` flag to be available.`}</p>\n    <p>{`This Kubernetes YAML will create one Deployment and one Job.  The long-running Deployment will run the `}<a parentName=\"p\" {...{\n        \"href\": \"#\"\n      }}>{`OrdersPython/OrderConsumer.py`}</a>{` script to watch for order events in the Kafka backend, while the short-lived Job create all the necessary order events via the `}<a parentName=\"p\" {...{\n        \"href\": \"#\"\n      }}>{`es-it/ProducerOrderEvents.py`}</a>{` script and publish them to Kafka.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`View the output of the `}<inlineCode parentName=\"li\">{`es-it/ProducerOrderEvents.py`}</inlineCode>{` Job:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`(kubectl/oc) get jobs | grep kcontainer\n(kubectl/oc) logs -f <pod_name>\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`View the output of the `}<inlineCode parentName=\"li\">{`OrdersPython/OrderConsumer.py`}</inlineCode>{` Deployment:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`(kubectl/oc) get pods | grep consumer\n(kubectl/oc) logs -f <pod_name>\n`}</code></pre>\n    <p>{`You should see the same Order ID created by the Job in the output of the Deployment’s container.`}</p>\n    <h2>{`Universal deployment considerations`}</h2>\n    <p>{`When deploying kafka consumer it is important to assess the horizontal pod autoscaler settings and needs, as adding consumers will not address scalability if the number of partitions in the topic(s) to consume does not match the increase of consumers. So disable HPA by default. If you want to use HPA you also need to ensure that a metrics-server is running, then set the number of partition, and the `}<inlineCode parentName=\"p\">{`hpa.maxReplicas`}</inlineCode>{` to the number of partitions.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}