{"version":3,"sources":["webpack:///./src/pages/infrastructure/required-services/index.mdx"],"names":["_frontmatter","makeShortcode","name","props","console","warn","InlineNotification","AnchorLinks","AnchorLink","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","kind","parentName","small","isMDXComponent"],"mappings":"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","file":"component---src-pages-infrastructure-required-services-index-mdx-f650761a136972e486a8.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/refarch-kc/refarch-kc/docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst AnchorLinks = makeShortcode(\"AnchorLinks\");\nconst AnchorLink = makeShortcode(\"AnchorLink\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <InlineNotification kind=\"warning\" mdxType=\"InlineNotification\"><strong>TODO</strong> - UNDER CONSTRUCTION</InlineNotification>\n    <AnchorLinks mdxType=\"AnchorLinks\">\n  <AnchorLink mdxType=\"AnchorLink\">Development Tools</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Apache Kafka</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Postgresql</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">BPM</AnchorLink>\n    </AnchorLinks>\n    <h2>{`Development Tools`}</h2>\n    <p>{`You will require the following tools locally on your development system:`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://git-scm.com/book/en/v2/Getting-Started-Installing-Git\"\n        }}>{`Git`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://maven.apache.org/index.html\"\n        }}>{`Maven`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://www.docker.com/products/docker-desktop\"\n        }}>{`Docker`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://appsody.dev/\"\n        }}>{`Appsody`}</a></li>\n      <li parentName=\"ul\">{`Programming Languages & Compilers:`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"https://openjdk.java.net/\"\n            }}>{`Java JDK`}</a>{` - version 1.8 or greater`}</li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"https://nodejs.org/en/\"\n            }}>{`NodeJS`}</a>{` - version 12.18 or greater`}</li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"https://www.python.org/downloads/\"\n            }}>{`Python`}</a>{` - version 3.7 or greater`}</li>\n        </ul>\n      </li>\n    </ul>\n    <h3>{`Clone all the repositories`}</h3>\n    <p>{`Start by cloning the root repository using the command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`git clone https://github.com/ibm-cloud-architecture/refarch-kc/\n`}</code></pre>\n    <p>{`Then go to the `}<inlineCode parentName=\"p\">{`refarch-kc`}</inlineCode>{` folder and use the command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`./script/clone.sh\n`}</code></pre>\n    <p>{`to get all the solution repositories. You should have at least the following repositories:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`refarch-kc-container-ms\nrefarch-kc-order-ms\nrefarch-kc-ui\nrefarch-kc\nrefarch-kc-ms\nrefarch-kc-streams\n`}</code></pre>\n    <p>{`Then modify the environment variables according to your environment you are using. This file is used by a lot of scripts in the solution to set the target deployment environment: LOCAL, IBMCLOUD, ICP, MINIKUBE.`}</p>\n    <h2>{`Apache Kafka`}</h2>\n    <p>{`There are multiple options to deploy an Apache Kafka-based cluster to support this reference implementation:`}</p>\n    <AnchorLinks small mdxType=\"AnchorLinks\">\n  <AnchorLink mdxType=\"AnchorLink\">IBM Event Streams on IBM Cloud</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">IBM Event Streams on RedHat OpenShift Container Platform</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Apache Kafka via Strimzi Operator</AnchorLink>\n    </AnchorLinks>\n    <h3>{`IBM Event Streams on IBM Cloud`}</h3>\n    <h4>{`Service Deployment`}</h4>\n    <p>{`We recommend to follow `}<a parentName=\"p\" {...{\n        \"href\": \"https://ibm-cloud-architecture.github.io/refarch-eda/technology/event-streams/es-cloud/\"\n      }}>{`our most recent lab`}</a>{` on how to provision an Event Streams intance on cloud.`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`In the `}<em parentName=\"p\">{`Manage`}</em>{` panel add the topics needed for the solution. We need at least the following:`}</p>\n        <span parentName=\"li\" {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"1152px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"62.15277777777778%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABcUlEQVQoz31Si26DMAzk/z+wlUpR1cFUCiS8y5ubz226jXazdCQ49uXO4HXdhLKqkRclTF7ACjKbIzM5rOSWZcE21nXFX+GRLDNWSeumVTIj4AVNe9NLeFZUle6Zc6Tv4PFBFS6xjWWRc635rvsvvK2V3X6PJE0RJyn6fnhRcye+k88PLA88FbpbmTydTjgejzgcfETRp9i3qtBFJdaJn7PlBV3fo+u6u0JHyLWXg6IsZYYFpmlSMPphkFkbXR2xzXMFe54z/G0JMFWH88ViF4TIqh62HmAEUVLCP8eIbSO5Ef5HjCBKEIQJLqaWvgHdMG8JVzRNozYPvo9LHGMQRbTStq2q5fvtdlMHszoYnzXzvCFksNEKYSCz9INAbY7jqHlaYzNXEro9V+KVUMBGIyTnMEQqX7sWxSzeEnJ2bu/wViEtU9U1SbSIVgjmXSPfORa3d+tbQn7Fqq4RRhHi61VV8BdxlgjOspYa/RcfOYLvXwcapkw2p1vAAAAAAElFTkSuQmCC')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"IES IC topics\",\n            \"title\": \"IES IC topics\",\n            \"src\": \"/refarch-kc/static/06136378d9189e30a9a689054d146864/3cbba/IES-IC-topics.png\",\n            \"srcSet\": [\"/refarch-kc/static/06136378d9189e30a9a689054d146864/7fc1e/IES-IC-topics.png 288w\", \"/refarch-kc/static/06136378d9189e30a9a689054d146864/a5df1/IES-IC-topics.png 576w\", \"/refarch-kc/static/06136378d9189e30a9a689054d146864/3cbba/IES-IC-topics.png 1152w\", \"/refarch-kc/static/06136378d9189e30a9a689054d146864/3fe90/IES-IC-topics.png 1674w\"],\n            \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n    `}</span>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`In the Service Credentials tab, create new credentials to get the Kafka broker list, the admim URL and the api_key needed to authenticate the consumers or producers.`}</p>\n        <span parentName=\"li\" {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"1024px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"63.541666666666664%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACPElEQVQ4y21Ty24TQRD0nyMufEIQzgUOXOMEcQgXjICjIy5IECUhJE78jHdn5/3YddHda7CIMlJv72Omuqq7dhBjhvMBjTYw1sI6B22M5K7rsN1u/wU/t237dNC3XAoGnsCqWsFaJyB8X6sGPgQpYOg9Zy7CB2UR+FOr0PeBdUEOOe8FhDMzDiFSAf9fhJgQOVKivRFV47Ch4MzPnr4NeBPLXW9qebmXuCfTdS06qt51W5HG6/7B4vmbCZ69nuDF229YVBY5lx6Q5RjrkXImZkF6xVFKRokebfIoOaAtSYqxdGZZa2pTyNAu0btOFAyUtlisN+CcS0egreRaaUzvZlBKwTtNUh2C13Joua6JhJd9DMSsYypwgQArZbB4UJjTpnWlpaKNBXVjMVuscD/nmGNT11BNLT27mhucTytcLy1qm2B8woZwLOUBXzxZJ5J+KoiQslRSWqNpeOLMpiEX9FaKpCCxknbb59LKecdEmCFfuHer5Rq3t1OMx2OcHJ9gNDrG0dEI79+d4OeP76irDRzZJ1PBxJOmAQZxw84lDOh3gNyX8/MLnJ5+wPDVkOIQBwcvMRwe4uvnL/j0cYyzyZl4VZFHm0ZLZCLCA3LEnHtvfewBM9G+owHMZks5oGlAfECTnZaLJVbUS87G2P4HYEYEQuYSC1lizi0TQEMX8RUBMsvLiyvKl7j+9Rt30xm14R63N1PcUDCjx4ttFILfA7Ju/mUMsenlNDQI1TMkfzJLvWP7V+LjYM/GneQ/+f7ghSROO/sAAAAASUVORK5CYII=')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"IES IC credentials\",\n            \"title\": \"IES IC credentials\",\n            \"src\": \"/refarch-kc/static/4729d9ec08db1ec6f706bd1fed86cc3c/2faef/IES-IC-credentials.png\",\n            \"srcSet\": [\"/refarch-kc/static/4729d9ec08db1ec6f706bd1fed86cc3c/7fc1e/IES-IC-credentials.png 288w\", \"/refarch-kc/static/4729d9ec08db1ec6f706bd1fed86cc3c/a5df1/IES-IC-credentials.png 576w\", \"/refarch-kc/static/4729d9ec08db1ec6f706bd1fed86cc3c/2faef/IES-IC-credentials.png 1024w\"],\n            \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n    `}</span>\n      </li>\n    </ul>\n    <h4>{`Kafka Brokers`}</h4>\n    <p>{`Regardless of specific deployment targets (OCP, IKS, k8s), the following prerequisite Kubernetes ConfigMap needs to be created to support the deployments of the application’s microservices.  These artifacts need to be created once per unique deployment of the entire application and can be shared between application components in the same overall application deployment.  These values can be acquired from the `}<inlineCode parentName=\"p\">{`kafka_brokers_sasl`}</inlineCode>{` section of the service instance’s Service Credentials.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl create configmap kafka-brokers --from-literal=brokers='<replace with comma-separated list of brokers>' -n <target k8s namespace / ocp project>\nkubectl describe configmap kafka-brokers -n <target k8s namespace / ocp project>\n`}</code></pre>\n    <h4>{`Event Streams User Credentials`}</h4>\n    <p>{`The Event Streams User Credentials are needed in order for any deployed consumers or producers to work with the IBM Event Streams service in IBM Cloud. To avoid sharing security keys, create a Kubernetes Secret in the target cluster you will deploy the application microservices to. This is available from the Service Credentials information you just created above.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl create secret generic eventstreams-cred --from-literal=username='token' --from-literal=password='<replace with api key>' -n <target k8s namespace / ocp project>\nkubectl describe secret eventstreams-cred -n <target k8s namespace / ocp project>\n`}</code></pre>\n    <h3>{`IBM Event Streams on RedHat OpenShift Container Platform`}</h3>\n    <h4>{`Service Deployment`}</h4>\n    <p>{`The installation is documented in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://ibm.github.io/event-streams/installing/installing-openshift/\"\n      }}>{`product documentation`}</a>{` and in our `}<a parentName=\"p\" {...{\n        \"href\": \"https://ibm-cloud-architecture.github.io/refarch-eda/deployments/eventstreams/\"\n      }}>{`own note here.`}</a></p>\n    <h4>{`Kafka Brokers`}</h4>\n    <p>{`Regardless of specific deployment targets (OCP, IKS, k8s), the following prerequisite Kubernetes ConfigMap needs to be created to support the deployments of the application’s microservices.  These artifacts need to be created once per unique deployment of the entire application and can be shared between application components in the same overall application deployment.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl create configmap kafka-brokers --from-literal=brokers='<replace with comma-separated list of brokers>' -n <target k8s namespace / ocp project>\nkubectl describe configmap kafka-brokers -n <target k8s namespace / ocp project>\n`}</code></pre>\n    <h4>{`Event Streams User Credentials`}</h4>\n    <p>{`The Event Streams Scram User Credentials are needed in order for any deployed consumers or producers to work with the IBM Event Streams instance running in your cluster. These SCRAM credentials are associated to the KafkaUser object that is being created behind the scenes. In order to create that KafkaUser object and obtain the SCRAM credentials for it, follow the instructions at `}<a parentName=\"p\" {...{\n        \"href\": \"https://ibm.github.io/event-streams/security/managing-access/#creating-a-kafkauser-in-the-ibm-event-streams-ui\"\n      }}>{`https://ibm.github.io/event-streams/security/managing-access/#creating-a-kafkauser-in-the-ibm-event-streams-ui`}</a></p>\n    <p>{`To avoid sharing security keys, create a Kubernetes Secret in the target cluster you will deploy the application microservices to:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl create secret generic eventstreams-cred --from-literal=username='<replace with scram username>' --from-literal=password='<replace with scram password>' -n <target k8s namespace / ocp project>\nkubectl describe secrets -n <target k8s namespace / ocp project>\n`}</code></pre>\n    <p><strong parentName=\"p\">{`IMPORTANT:`}</strong>{` Our reference application uses idempotent producers which our KafkaUser needs a special set of permissions for. In, order to add these, edit the KafkaUser created when you generatted the SCRAM credentials following the link above in this section and add the following set of permissions in the `}<inlineCode parentName=\"p\">{`acls`}</inlineCode>{` list:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`- host: '*'\n  operation: IdempotentWrite\n  resource:\n    name: '*'\n    patternType: literal\n    type: cluster\n`}</code></pre>\n    <h4>{`Event Streams Certificates`}</h4>\n    <p>{`If you are using Event Streams as your Kafka broker provider and it is deployed via the IBM Cloud Pak for Integration (ICP4I), you will need to create an additional Secret to store the generated Certificates & Truststores to connect securely between your application components and the Kafka brokers.  These artifacts need to be created once per unique deployment of the entire application and can be shared between application components in the same overall application deployment.`}</p>\n    <p>{`From the `}<strong parentName=\"p\">{`Connect to this cluster`}</strong>{` tab on the landing page of your Event Streams installation, download both the `}<strong parentName=\"p\">{`PKCS12`}</strong>{` and the `}<strong parentName=\"p\">{`PEM`}</strong>{` certificates. After you have downloaded these, we are going to make them available to our producer and consumers by storing them in Kubernetes Secrets:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc create secret generic eventstreams-truststore --from-file=<path to downloaded es-cert.p12>\noc create secret generic eventstreams-cert-pem --from-file=<path to downloaded es-cert.pem>\n`}</code></pre>\n    <h3>{`Apache Kafka via Strimzi Operator`}</h3>\n    <InlineNotification kind=\"warning\" mdxType=\"InlineNotification\"><strong>TODO</strong> - Update Strimzi documentation</InlineNotification>\n    <p>{`If you simply want to deploy Kafka using the open source, community-supported Helm Charts, you can do so with the following commands.`}</p>\n    <h2>{`Postgresql`}</h2>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/ibm-cloud-architecture/refarch-kc-container-ms/\"\n      }}>{`Container Manager microservice`}</a>{` persists the Reefer Container inventory in a Postgresql database.  The deployment of Postgresql is only necessary to support the deployment of the Container Manager microservice.  If you are not deploying the Container Manager microservice, you do not need to deploy and configure a Postgresql service and database.`}</p>\n    <p>{`The options to support the Container Manager microservice with a Postgresql database are:`}</p>\n    <AnchorLinks small mdxType=\"AnchorLinks\">\n  <AnchorLink mdxType=\"AnchorLink\">Postgresql on IBM Cloud</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Community-based Postgresql Helm charts</AnchorLink>\n    </AnchorLinks>\n    <h3>{`Postgresql on IBM Cloud`}</h3>\n    <h4>{`Service Deployment`}</h4>\n    <p>{` To install the service, follow the `}<a parentName=\"p\" {...{\n        \"href\": \"https://cloud.ibm.com/catalog/services/databases-for-postgresql\"\n      }}>{`product documentation here`}</a>{`.`}</p>\n    <p>{` Once the service is deployed, you need to create some service credentials and retreive the following values for the different configurations:`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><inlineCode parentName=\"p\">{`postgres.username`}</inlineCode></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><inlineCode parentName=\"p\">{`postgres.password`}</inlineCode></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><inlineCode parentName=\"p\">{`postgres.composed`}</inlineCode>{`, which will need to be mapped to a JDBC URL in the format of `}<inlineCode parentName=\"p\">{`jdbc:postgresql://<hostname>:<port>/<database-name>?sslmode=verify-full&sslfactory=org.postgresql.ssl.NonValidatingFactory`}</inlineCode>{` `}<em parentName=\"p\">{`(this will remove the `}<inlineCode parentName=\"em\">{`username`}</inlineCode>{` and `}<inlineCode parentName=\"em\">{`password`}</inlineCode>{` values from the default `}<inlineCode parentName=\"em\">{`composed`}</inlineCode>{` string)`}</em></p>\n        <span parentName=\"li\" {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"1152px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"43.40277777777778%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkElEQVQoz11Sa4+jMAzk//+3qiqt9r50KW0pfUAJhLwhzNlB3dMe0siJPR47NplzDssS4cKMutWQo0Q/SLw7QWeFeY6IMRJn+YUYV/vvWxIvE9JgpqDzAU3b4fFsoDQJy5GswWg8ic7/YS1iKedQtMi/W7wHk2KZdSFV0zZgVIqgU4L3jvwzFu6OkHr46ZDvEcYY1I2klykYyjduQsbESCRlAurXG60YoSnABRjVvcGjERBSJw6P5tkpFDeBdvAIVDxMM4kFKEuCn6q98kQwaISCGB0oBjev4DNpJVANdOOEunN49R7STCm3kw5Sh7VDFhRqrW6tTQs5lSf8+fpCnufY73McDnscj0eUZZk4IfgEax3N38P4CQML8qI+guxk8kAL4XkWRYHNZoPtdovdbgchaPNSYqLh/9o6zdhTM8OnQ6QnrzO7P184ns54vBq01Olb9Mky2Mfxqr7jeruTfeBS1dC0nDBFDKSRsbKjznpNGA3OlyuRbigvFeGK87VKWM+3FOP7x7Jf0Z8R5nUPfwGJkrN5skPJegAAAABJRU5ErkJggg==')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"postgres credentials\",\n            \"title\": \"postgres credentials\",\n            \"src\": \"/refarch-kc/static/f662e93c5d71c60d26482f06eaeeba1f/3cbba/postgres-credentials.png\",\n            \"srcSet\": [\"/refarch-kc/static/f662e93c5d71c60d26482f06eaeeba1f/7fc1e/postgres-credentials.png 288w\", \"/refarch-kc/static/f662e93c5d71c60d26482f06eaeeba1f/a5df1/postgres-credentials.png 576w\", \"/refarch-kc/static/f662e93c5d71c60d26482f06eaeeba1f/3cbba/postgres-credentials.png 1152w\", \"/refarch-kc/static/f662e93c5d71c60d26482f06eaeeba1f/4ef37/postgres-credentials.png 1380w\"],\n            \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n    `}</span>\n      </li>\n    </ul>\n    <h4>{`Creating Postgresql credentials as Kubernetes Secrets`}</h4>\n    <ol>\n      <li parentName=\"ol\">{`Applying the same approach as above, copy the Postgresql URL as defined in the Postegresql service credential and execute the following command:`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl create secret generic postgresql-url --from-literal=binding='<replace with postgresql-url>' -n <target k8s namespace / ocp project>\n`}</code></pre>\n    <ol {...{\n      \"start\": 2\n    }}>\n      <li parentName=\"ol\">{`For the user:`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl create secret generic postgresql-user --from-literal=binding='ibm_cloud_c...' -n <target k8s namespace / ocp project>\n`}</code></pre>\n    <ol {...{\n      \"start\": 3\n    }}>\n      <li parentName=\"ol\">{`For the user password:`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl create secret generic postgresql-pwd --from-literal=binding='<password from the service credential>.' -n <target k8s namespace / ocp project>\n`}</code></pre>\n    <ol {...{\n      \"start\": 4\n    }}>\n      <li parentName=\"ol\">{`When running Postgresql through the IBM Cloud service, additional SSL certificates are required to communicate securely:`}\n        <ol parentName=\"li\">\n          <li parentName=\"ol\">{`Install the IBM Cloud Database CLI Plugin:`}\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`ibmcloud plugin install cloud-databases\n`}</code></pre>\n          </li>\n          <li parentName=\"ol\">{`Get the certificate using the name of the postgresql service:`}</li>\n        </ol>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`ibmcloud cdb deployment-cacert $IC_POSTGRES_SERV > postgresql.crt\n`}</code></pre>\n        <ol parentName=\"li\" {...{\n          \"start\": 3\n        }}>\n          <li parentName=\"ol\">{`Then add it into an environment variable`}</li>\n        </ol>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`export POSTGRESQL_CA_PEM=\"$(cat ./postgresql.crt)\"\n`}</code></pre>\n        <ol parentName=\"li\" {...{\n          \"start\": 4\n        }}>\n          <li parentName=\"ol\">{`Then define a secret:`}</li>\n        </ol>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`kubectl create secret generic postgresql-ca-pem --from-literal=binding=\"$POSTGRESQL_CA_PEM\" -n browncompute\n`}</code></pre>\n      </li>\n    </ol>\n    <h3>{`Community-based Postgresql Helm charts`}</h3>\n    <p>{`If you simply want to deploy Postgresql using the open source, community-supported Helm Charts, you can do so with the following commands.`}</p>\n    <h4>{`Environment Considerations`}</h4>\n    <p>{`Reference `}<a parentName=\"p\" {...{\n        \"href\": \"application-components.md#openshift-container-platform-3-11\"\n      }}>{`Application Components Pre-reqs`}</a>{` for details on creating the necessary ServiceAccount with required permissions, prior to deployment.`}</p>\n    <h4>{`Service Deployment`}</h4>\n    <ol>\n      <li parentName=\"ol\">{`Add Bitnami Helm Repository:`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`helm repo add bitnami https://charts.bitnami.com/bitnami\n`}</code></pre>\n    <ol {...{\n      \"start\": 2\n    }}>\n      <li parentName=\"ol\">{`Update the Helm repository:`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`helm repo update\n`}</code></pre>\n    <ol {...{\n      \"start\": 3\n    }}>\n      <li parentName=\"ol\">{`Create a Kubernetes Namespace or OpenShift Project (if not already created).`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl create namespace <target namespace>\n`}</code></pre>\n    <ol {...{\n      \"start\": 4\n    }}>\n      <li parentName=\"ol\">{`Deploy Postgresql using the `}<inlineCode parentName=\"li\">{`bitnami/postgresql`}</inlineCode>{` Helm Chart:`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`mkdir bitnami\nmkdir templates\nhelm fetch --untar --untardir bitnami bitnami/postgresql\nhelm template --name postgre-db --set postgresqlPassword=supersecret \\\\\n  --set persistence.enabled=false --set serviceAccount.enabled=true \\\\\n  --set serviceAccount.name=<existing service account> bitnami/postgresql \\\\\n  --namespace <target namespace> --output-dir templates\nkubectl apply -f templates/postgresql/templates\n`}</code></pre>\n    <p>{`  It will take a few minutes to get the pods ready.`}</p>\n    <h4>{`Creating Postgresql credentials as Kubernetes Secrets`}</h4>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`The `}<inlineCode parentName=\"p\">{`postgresql-url`}</inlineCode>{` needs to point to the in-cluster (non-headless) Kubernetes Service created as part of the deployment and should take the form of the deployment name with the suffix of `}<inlineCode parentName=\"p\">{`-postgresql`}</inlineCode>{`:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`kubectl get services | grep postgresql | grep -v headless\nkubectl create secret generic postgresql-url --from-literal=binding='jdbc:postgresql://<helm-release-name>-postgresql' -n <target k8s namespace / ocp project>\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`For the user:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`kubectl create secret generic postgresql-user --from-literal=binding='postgres' -n <target k8s namespace / ocp project>\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`For the user password:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`kubectl create secret generic postgresql-pwd --from-literal=binding='<password used in the helm template command>.' -n <target k8s namespace / ocp project>\n`}</code></pre>\n      </li>\n    </ul>\n    <h4>{`Service Debugging & Troubleshooting`}</h4>\n    <p>{`Access to the in-container password can be made using the following command.  This should be the same value you passed in when you deployed the service.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`export POSTGRES_PASSWORD=$(kubectl get secret --namespace  <target namespace> postgre-db-postgresql -o jsonpath=\"{.data.postgresql-password}\" | base64 --decode)\n`}</code></pre>\n    <p>{`And then use the `}<inlineCode parentName=\"p\">{`psql`}</inlineCode>{` command line interface to interact with postgresql. For that, we use a Docker image as a client to the Postgresql server:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl run postgre-db-postgresql-client --rm --tty -i --restart='Never' --namespace <target namespace> --image bitnami/postgresql:11.3.0-debian-9-r38 --env=\"PGPASSWORD=$POSTGRES_PASSWORD\" --command -- psql --host postgre-db-postgresql -U postgres -p 5432\n`}</code></pre>\n    <p>{`To connect to your database from outside the cluster execute the following commands:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl port-forward --namespace <target namespace> svc/postgre-db-postgresql 5432:5432 &&\\\\\n  PGPASSWORD=\"$POSTGRES_PASSWORD\" psql --host 127.0.0.1 -U postgres -p 5432\n`}</code></pre>\n    <h2>{`BPM`}</h2>\n    <p>{`The containers microservice component of this Reefer Container EDA reference application can be integrated with a BPM process for the the maintenance of the containers. This BPM process will dispatch a field engineer so that the engineer can go to the reefer container to fix it. The process of scheduling an engineer and then completing the work can best be facilitated through a process based, structured workflow. We will be using IBM BPM on Cloud or Cloud Pak for Automation to best demonstrate the workflow. This workflow can be explored in detail `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/ibm-cloud-architecture/refarch-reefer-ml/tree/master/docs/bpm\"\n      }}>{`here`}</a>{`.`}</p>\n    <AnchorLinks small mdxType=\"AnchorLinks\">\n  <AnchorLink mdxType=\"AnchorLink\">IBM BPM on IBM Cloud</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">IBM BPM on RedHat OpenShift Container Platform</AnchorLink>\n    </AnchorLinks>\n    <p>{`In order for the containers microservice to fire the BPM workflow, we need to provide the following information through Kubernetes configMaps and secrets:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Provide in a configMap:`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`the `}<strong parentName=\"li\">{`BPM authentication login endpoint`}</strong></li>\n          <li parentName=\"ul\">{`the `}<strong parentName=\"li\">{`BPM workflow endpoint`}</strong></li>\n          <li parentName=\"ul\">{`the `}<strong parentName=\"li\">{`BPM anomaly event threshold`}</strong></li>\n          <li parentName=\"ul\">{`the `}<strong parentName=\"li\">{`BPM authentication token time expiration`}</strong></li>\n        </ul>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`cat <<EOF | kubectl apply -f -\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: bpm-anomaly\ndata:\n  url: <replace with your BPM workflow endpoint>\n  login: <replace with your BPM authentication endpoint>\n  expiration: <replace with the number of second for the auth token to expire after>\n  anomalyThreshold: <replace with the number of anomaly events to receive before calling BPM>\nEOF\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Provide your BPM instance’s `}<strong parentName=\"p\">{`credentials`}</strong>{` in a secret:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`kubectl create secret generic bpm-anomaly --from-literal=user='<replace with your BPM user>' --from-literal=password='<replace with your BPM password>' -n <target k8s namespace / ocp project>\nkubectl describe secrets -n <target k8s namespace / ocp project>\n`}</code></pre>\n      </li>\n    </ol>\n    <p><strong parentName=\"p\">{`IMPORTANT:`}</strong>{` The names for both the secret and configMap (`}<inlineCode parentName=\"p\">{`bpm-anomaly`}</inlineCode>{`) is the default the container microservice uses in its `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/ibm-cloud-architecture/refarch-kc-container-ms/tree/master/SpringContainerMS/chart/springcontainerms\"\n      }}>{`helm chart`}</a>{`. Make sure the name for the configMap and secret you create `}<strong parentName=\"p\">{`match`}</strong>{` the names you used in the containers microservice’s helm chart.`}</p>\n    <p>{`If you do not have access to any BPM instance with this field engineer dispatching workflow, you can bypass the call to BPM by disabling such call in the container microservice component. For doing so, you can use the following container microservice’s API endpoints:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Enable BPM: `}<a parentName=\"li\" {...{\n          \"href\": \"#bpm\"\n        }}><inlineCode parentName=\"a\">{`http://<container_microservice_endpoint>/bpm/enable`}</inlineCode></a></li>\n      <li parentName=\"ol\">{`Disable BPM: `}<a parentName=\"li\" {...{\n          \"href\": \"#bpm\"\n        }}><inlineCode parentName=\"a\">{`http://<container_microservice_endpoint>/bpm/disable`}</inlineCode></a></li>\n      <li parentName=\"ol\">{`BPM status: `}<a parentName=\"li\" {...{\n          \"href\": \"#bpm\"\n        }}><inlineCode parentName=\"a\">{`http://<container_microservice_endpoint>/bpm/status`}</inlineCode></a></li>\n    </ol>\n    <p>{`where `}<inlineCode parentName=\"p\">{`<container_microservice_endpoint>`}</inlineCode>{` is the route, ingress or nodeport service you associated to your container microservice component at deployment time.`}</p>\n    <h3>{`IBM BPM on IBM Cloud`}</h3>\n    <p><em parentName=\"p\">{`To be completed`}</em></p>\n    <p><strong parentName=\"p\">{`Reference:`}</strong>{` `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.bpm.ibmcloud.com/\"\n      }}>{`https://www.bpm.ibmcloud.com/`}</a></p>\n    <h3>{`IBM BPM on RedHat OpenShift Container Platform`}</h3>\n    <p><em parentName=\"p\">{`To be completed`}</em></p>\n    <p><strong parentName=\"p\">{`Reference:`}</strong>{` `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.ibm.com/cloud/cloud-pak-for-automation/\"\n      }}>{`https://www.ibm.com/cloud/cloud-pak-for-automation/`}</a></p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}